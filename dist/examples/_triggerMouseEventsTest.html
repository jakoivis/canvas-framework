<!DOCTYPE html>
<html>
<head>
    <title>Mouse event trigger test</title>
</head>

<body style="background-color: #AAAAAA;">

    <canvas id="canvas" width="30" height="30" style="position: absolute; left: 0; top: 0;"></canvas>

    <script>
        (function(){
            function simulateClick(target, x, y)
            {
                var event = document.createEvent("MouseEvents");
                event.initMouseEvent("click", true, true, window, 0, 0, 0, x, y, false, false, false, false, 0, null);
                target.dispatchEvent(event);
            }

            var canvas = document.getElementById("canvas");
            canvas.addEventListener("click", canvasClickHandler)
            simulateClick(canvas, 10, 10);

            function canvasClickHandler(event)
            {
                console.log(event);
            }
        })();
    </script>
</body>
</html>