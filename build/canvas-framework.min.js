!function e(t,n,r){function i(a,u){if(!n[a]){if(!t[a]){var s="function"==typeof require&&require;if(!u&&s)return s(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return i(n?n:e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e){window.ImageLoader=e("./imageLoader/imageLoader.js"),window.Layer=e("./layer.js"),window.Transform=e("./transform.js"),window.Graphic=e("./graphic.js"),window.Timer=e("./timer.js"),window.CanvasUtil=e("./canvasutil.js")},{"./canvasutil.js":2,"./graphic.js":3,"./imageLoader/imageLoader.js":4,"./layer.js":8,"./timer.js":9,"./transform.js":10}],2:[function(e,t){function n(){"use strict";function e(){s.resetTempCanvas()}function t(e){a.width<e.width&&(a.width=e.width),a.height<e.height&&(a.height=e.height)}function r(e){u.clearRect(0,0,e.width,e.height)}function i(e){u.drawImage(e,0,0)}function o(e){return u.getImageData(0,0,e.width,e.height)}if(n.prototype.singletonInstance)return n.prototype.singletonInstance;if(!(this instanceof n))return new n;n.prototype.singletonInstance=this;var a,u,s=this;return s.resetTempCanvas=function(){a=document.createElement("canvas"),u=a.getContext("2d")},s.getImageDataFromTag=function(e){return t(e),r(e),i(e),o(e)},e(),this}t.exports=new n},{}],3:[function(e,t){var n=e("./transform.js");t.exports=function r(e){"use strict";function t(){e&&(e.imageData&&m.setImageData(e.imageData),m.x=e.x||0,m.y=e.y||0,m.onRollOver=e.onRollOver,m.onRollOut=e.onRollOut,m.onClick=e.onClick,g=e.update||h)}function i(e,t){return e-m.x>=0&&t-m.y>=0&&e-(m.x+s.width)<=0&&t-(m.y+s.height)<=0}function o(){f=m.x,d=m.y}function a(e,t){return c[t*s.width+e]}if(!(this instanceof r))return new r(e);var u,s,l,c,f,d,m=this,h=function(){};m.x=0,m.y=0,m.onRollOver,m.onRollOut,m.onClick;var g=h;return m.getImageData=function(){return s},m.setImageData=function(e){s=e,l=s.data,c=new Uint32Array(l.buffer)},m.setRenderContext=function(e){u=e},m.render=function(){o();var e=u.getImageData(m.x,m.y,s.width,s.height),t=new n(e,u);t["do"](n.WeightedAlphaBlend,{imageData2:s}),u.putImageData(t.getImageData(),m.x,m.y)},m.clear=function(){u.clearRect(f-1,d-1,s.width+2,s.height+2)},m.update=function(){g.call(this)},m.globalToLocal=function(e,t){return{x:e-m.x,y:t-m.y}},m.localToGlobal=function(e,t){return{x:m.x+e,y:m.y+t}},m.hasGlobalPixelAt=function(e,t){var n=!1;if(i(e,t)){var r=e-m.x,o=t-m.y,u=a(r,o);0!==u&&(n=!0)}return n},t(),this}},{"./transform.js":10}],4:[function(e,t){function n(e){"use strict";function t(e){a(e),E=!1,p&&u()}function a(e){function t(){if(!(e.images&&e.images instanceof Array))throw new Error("Options object should have 'images' property (type of array) containing paths to the loaded images.");for(var t=0;t<e.images.length;t++){if(!e.images[t])throw new Error("Objects in 'images' cannot be null or undefined");if("string"!=typeof e.images[t]&&!e.images[t].hasOwnProperty("src"))throw new Error("Objects in 'images' property should have src property")}return e.images.slice(0)}function n(){if(e.onComplete&&"function"!=typeof e.onComplete)throw new Error("'onComplete' property should be a function");return f(e.onComplete,void 0)}function i(){if(e.onFileComplete&&"function"!=typeof e.onFileComplete)throw new Error("'onFileComplete' property should be a function");return f(e.onFileComplete,void 0)}function a(){if(e.onFileStart&&"function"!=typeof e.onFileStart)throw new Error("'onFileStart' property should be a function");return f(e.onFileStart,void 0)}function u(){return f(e.autoload,!0)}function s(){var t=f(e.numberOfThreads,1),n=parseInt(t);if(isNaN(n)||1>n)throw new Error("'numberOfThreads' should be integer number grater than 0");return n}function l(){var t=f(e.simulationDelayMin,void 0),n=parseInt(t);if("undefined"!=typeof t&&(isNaN(n)||0>n))throw new Error("'simulationDelayMin' should be a non-negative integer number");return"undefined"==typeof t&&(n=void 0),n}function c(){var t=f(e.simulationDelayMax,void 0),n=parseInt(t);if("undefined"!=typeof t&&(isNaN(n)||0>n))throw new Error("'simulationDelayMax' should be a non-negative integer number");return"undefined"==typeof t&&(n=void 0),n}function f(e,t){return"undefined"==typeof e?t:e}if(!e||"object"!=typeof e)throw new Error("Options should be an Object");v=new r(t()),y=n(),b=i(),C=a(),p=u(),w=s();var d=l(),m=c();o.setSimulationDelays(d,m)}function u(){E===!1&&d()===!1&&(E=!0,s())}function s(){for(var e=0;w>e;e++)new i({onThreadComplete:f,onFileComplete:l,onFileStart:c,queue:v})}function l(e){b&&b(e)}function c(e){C&&C(e)}function f(){d()&&y&&(E=!1,y())}function d(){return v.isComplete()}function m(){return v.getPercentLoaded()}function h(e){return v.getItemAt(e)}function g(){return v.length}if(!(this instanceof n))return new n(e);var p,v,w,y,b,C,E,x=this;return t(e),x.load=u,x.isComplete=d,x.getPercentLoaded=m,x.getItemAt=h,x.length=g,this}var r=e("./queue"),i=e("./thread"),o=e("./imageLoaderItem");t.exports=n},{"./imageLoaderItem":5,"./queue":6,"./thread":7}],5:[function(e,t){function n(e){"use strict";function t(){r(),u()}function r(){for(var t in e)p[t]=e[t];p.tag=document.createElement("img")}function i(){p.status=g.FAILED}function o(){p.status=g.COMPLETE}function a(){p.status=g.LOADING}function u(){p.status=g.PENDING}function s(){p.tag.removeEventListener("load",l),p.tag.removeEventListener("error",c)}function l(){n.simulationDelayMin?setTimeout(function(){f()},m()):f()}function c(){n.simulationDelayMin?setTimeout(function(){d()},m()):d()}function f(){s(),o(),h(p),h=void 0}function d(){s(),p.tag=void 0,i(),h(p),h=void 0}function m(){var e=n.simulationDelayMax,t=n.simulationDelayMin;return Math.floor(Math.random()*(e-t)+t)}var h,g={PENDING:"pending",LOADING:"loading",COMPLETE:"complete",FAILED:"failed"},p=this;return t(),p.load=function(e){h=e,a(),p.tag.addEventListener("load",l),p.tag.addEventListener("error",c),p.tag.src=p.src},p.isPending=function(){return p.status===g.PENDING},p.isComplete=function(){return p.status===g.COMPLETE},p.isLoading=function(){return p.status===g.LOADING},p.isFailed=function(){return p.status===g.FAILED},this}t.exports=n,n.setSimulationDelays=function(e,t){var r=e,i=t;r&&!i?i=r:i&&!r&&(r=i),n.simulationDelayMin=r,n.simulationDelayMax=i}},{}],6:[function(e,t){function n(e){"use strict";function t(){i=n(e),o.length=i.length}function n(e){for(var t=[],n=0;n<e.length;n++)t.push("string"==typeof e[n]?new r({src:e[n]}):new r(e[n]));return t}var i,o=this;return o.length=0,t(),o.getItemAt=function(e){return i[e]},o.isComplete=function(){for(var e,t=!0,n=0;n<i.length;n++)if(e=i[n],e.isPending()||e.isLoading()){t=!1;break}return t},o.getNextPendingItem=function(){for(var e,t=0;t<i.length;t++)if(i[t].isPending()){e=i[t];break}return e},o.getPercentLoaded=function(){var e,t=0,n=i.length;for(t;n>t&&(e=i[t],!e.isPending()&&!e.isLoading());t++);return t/n},this}var r=e("./imageLoaderItem");t.exports=n},{"./imageLoaderItem":5}],7:[function(e,t){function n(e){"use strict";function t(){i=e.onThreadComplete,o=e.onFileComplete,a=e.onFileStart,u=e.queue,n()}function n(){var e=u.getNextPendingItem();"undefined"==typeof e?i():(e.load(r),a(e))}function r(e){o(e),n()}var i,o,a,u;return t(),this}t.exports=n},{}],8:[function(e,t){t.exports=function n(e){"use strict";function t(){l=document.createElement("canvas"),c=l.getContext("2d"),d=[],e&&(e.enableOnRollEvents&&v.enableOnRollEvents(),e.enableOnClickEvents&&v.enableOnClickEvents(),e.width&&(l.width=e.width),e.height&&(l.height=e.height),e.fullScreen&&v.enableFullScreen(),e.appendToBody&&document.body.appendChild(l))}function r(){g={position:l.style.position,left:l.style.left,top:l.style.top,width:l.width,height:l.height}}function i(){l.style.position="absolute",l.style.left="0",l.style.top="0",o()}function o(){l.width=window.innerWidth,l.height=window.innerHeight,v.render()}function a(){l.style.position=g.position,l.style.left=g.left,l.style.top=g.top,l.width=g.width,l.height=g.height}function u(e){var t=v.getGraphicAtPoint(e.clientX,e.clientY);t!==f&&(f&&f.onRollOut&&f.onRollOut.call(f),t&&t.onRollOver&&t.onRollOver.call(t),f=t)}function s(){var e=v.getGraphicAtPoint(event.clientX,event.clientY);e&&e.onClick&&e.onClick.call(e)}if(!(this instanceof n))return new n(e);var l,c,f,d,m,h,g,p,v=this;return v.getCanvas=function(){return l},v.enableOnRollEvents=function(){m||(l.addEventListener("mousemove",u),m=!0)},v.disableOnRollEvents=function(){m&&(l.removeEventListener("mousemove",u),m=!1)},v.enableOnClickEvents=function(){h||(l.addEventListener("click",s),h=!0)},v.disableOnClickEvents=function(){h&&(l.removeEventListener("click",s),h=!1)},v.enableFullScreen=function(){p||(r(),i(),window.addEventListener("resize",o),p=!0)},v.disableFullScreen=function(){p&&(window.removeEventListener("resize",o),a(),p=!1)},v.length=function(){return d.length},v.addGraphic=function(e){d.push(e),e.setRenderContext(c)},v.removeGraphic=function(e){e.clear();for(var t=0;t<d.length;t++)if(e===d[t])return void d.splice(t,1)},v.removeAllGraphics=function(){for(var e=0;e<d.length;e++)d[e].clear();d=[]},v.getGraphicAt=function(e){return d[e]},v.getGraphicAtPoint=function(e,t){for(var n=null,r=d.length-1;r>=0;r--)if(d[r].hasGlobalPixelAt(e,t)){n=d[r];break}return n},v.render=function(){for(var e=0;e<d.length;e++)d[e].clear(),d[e].render()},v.update=function(){for(var e=0;e<d.length;e++)d[e].update()},t(),this}},{}],9:[function(e,t){t.exports=function n(e){"use strict";function t(){e?(i.renderCallback=e.renderCallback||h,i.updateCallback=e.updateCallback||h,i.measureCallback=e.measureCallback||h,i.setFramerate(e.frameRate||30)):(i.renderCallback=h,i.updateCallback=h,i.measureCallback=h,i.setFramerate(30)),u=0,s=0,l=0,c=0,f=0,d=0}function r(){for(u=(new Date).getTime(),f=u-s-c,i.updateCallback(),i.renderCallback(),s=(new Date).getTime(),l=s-u,c=a-l-f,0>=c&&(d-=c,c=2),m=setTimeout(r,c);d>a;)i.updateCallback(),d-=a;i.measureCallback()}if(n.prototype.singletonInstance)return n.prototype.singletonInstance;if(!(this instanceof n))return new n(e);n.prototype.singletonInstance=this;var i=this;i.renderCallback,i.updateCallback,i.measureCallback;var o=30;i.getFramerate=function(){return o},i.setFramerate=function(e){o=e,a=Math.round(1e3/o)};var a;i.getPeriod=function(){return a};var u;i.getBeforeTime=function(){return u};var s;i.getAfterTime=function(){return s};var l;i.getTimeDiff=function(){return l};var c;i.getSleepTime=function(){return c};var f;i.getOverSleepTime=function(){return f};var d;i.getExcess=function(){return d};var m,h=function(){};return i.start=function(){u=(new Date).getTime(),s=(new Date).getTime(),m=setTimeout(r,a)},i.stop=function(){clearTimeout(m)},t(),this}},{}],10:[function(e,t){function n(e,t){"use strict";function r(e,n){var r=a,i=r.data,o=t.createImageData(r),u=o.data,s=[],l=u.length,c={imageData:r};n=n||{};for(var f in n)c[f]=n[f];for(var d=0;l>d;d+=4)c.r=i[d],c.g=i[d+1],c.b=i[d+2],c.a=i[d+3],c.x=d%(r.width<<2)>>2,c.y=Math.floor(d/(r.width<<2)),s=e(c),u[d]=s[0],u[d+1]=s[1],u[d+2]=s[2],u[d+3]=s[3];return o}if(!(this instanceof n))return new n(e);var i=this,o=e,a=o;i.getImageData=function(){return a},i["do"]=function(e,t){return a=r(e,t),i},i.reset=function(){return a=o,i}}function r(e,t,n){return e-n*(e-t)}t.exports=n,n.sampleLinear=function(e,t,n){var r=e.data,i=n*(e.width<<2)+(t<<2);return[r[i],r[i+1],r[i+2],r[i+3]]},n.distance=function(e,t,n,r){var i=e-n,o=t-r;return Math.sqrt(i*i+o*o)},n.degreesToRadians=function(e){return e/180*3.14159265},n.Invert=function(e){return[255-e.r,255-e.g,255-e.b,e.a]},n.GrayScale=function(e){var t=(e.r+e.g+e.b)/3;return[t,t,t,e.a]},n.Alpha=function(e){return[e.r,e.g,e.b,e.value]},n.WeightedAlphaBlend=function(e){var t=n.sampleLinear(e.imageData2,e.x,e.y),i=t[3],o=i/255;return[r(e.r,t[0],o),r(e.g,t[1],o),r(e.b,t[2],o),e.a>i?e.a:i]},n.Rotate=function(e){var t=e.degree,r=n.degreesToRadians(t),i=Math.round(e.x*Math.cos(r)-e.y*Math.sin(r)),o=Math.round(e.x*Math.sin(r)+e.y*Math.cos(r));return n.sampleLinear(e.imageData,i,o)},n.Swirl=function(e){var t=e.originX,r=e.originY,i=e.degree,o=e.radius,a=n.distance(e.x,e.y,t,r),u=n.degreesToRadians(i*a),s=t+Math.cos(u)*o,l=r-Math.sin(u)*o;return s-=t,l-=r,s=Math.round(e.x-s),l=Math.round(e.y-l),n.sampleLinear(e.imageData,s,l)},n.descriptions={Invert:{arguments:[]},GrayScale:{arguments:[]},Alpha:{arguments:[{name:"value",min:0,max:255,"default":255,type:"number",description:"Control the alpha channel of pixels."}]},Rotate:{arguments:[]},Swirl:{arguments:[{name:"originX",min:Number.MIN_VALUE,max:Number.MAX_VALUE,"default":0,type:"number",description:"Center position of the transform on X axis."},{name:"originY",min:Number.MIN_VALUE,max:Number.MAX_VALUE,"default":0,type:"number",description:"Center position of the transform on Y axis."},{name:"degree",min:Number.MIN_VALUE,max:Number.MAX_VALUE,"default":2,type:"number",description:"Degree of the twist."},{name:"radius",min:Number.MIN_VALUE,max:Number.MAX_VALUE,"default":20,type:"number",description:""}]}}},{}]},{},[1]);