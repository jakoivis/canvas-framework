!function e(t,n,r){function i(a,u){if(!n[a]){if(!t[a]){var s="function"==typeof require&&require;if(!u&&s)return s(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){window.ImageLoader=e("./imageLoader/imageLoader.js"),window.Layer=e("./layer.js"),window.Transform=e("./transform.js"),window.Graphic=e("./graphic.js"),window.Timer=e("./timer.js"),window.CanvasUtil=e("./canvasutil.js"),window.Shape=e("./shape.js")},{"./canvasutil.js":2,"./graphic.js":3,"./imageLoader/imageLoader.js":4,"./layer.js":8,"./shape.js":9,"./timer.js":10,"./transform.js":11}],2:[function(e,t,n){function r(){"use strict";function e(){s.resetTempCanvas()}function t(e){a.width<e.width&&(a.width=e.width),a.height<e.height&&(a.height=e.height)}function n(e){u.clearRect(0,0,e.width,e.height)}function i(e){u.drawImage(e,0,0)}function o(e){return u.getImageData(0,0,e.width,e.height)}if(r.prototype.singletonInstance)return r.prototype.singletonInstance;if(!(this instanceof r))return new r;r.prototype.singletonInstance=this;var a,u,s=this;return s.resetTempCanvas=function(){a=document.createElement("canvas"),u=a.getContext("2d")},s.getImageDataFromTag=function(e){return t(e),n(e),i(e),o(e)},e(),this}t.exports=new r},{}],3:[function(e,t,n){e("./transform.js");t.exports=function r(e){"use strict";function t(){e&&(e.imageData&&d.setImageData(e.imageData),d.x=e.x||0,d.y=e.y||0,d.onRollOver=e.onRollOver,d.onRollOut=e.onRollOut,d.onClick=e.onClick,m=e.update||h)}function n(e,t){return e-d.x>=0&&t-d.y>=0&&e-(d.x+u.width)<=0&&t-(d.y+u.height)<=0}function i(){l=d.x,f=d.y}function o(e,t){return c[t*u.width+e]}if(!(this instanceof r))return new r(e);var a,u,s,c,l,f,d=this,h=function(){};d.x=0,d.y=0,d.onRollOver,d.onRollOut,d.onClick;var m=h;return d.getImageData=function(){return u},d.setImageData=function(e){u=e,s=u.data,c=new Uint32Array(s.buffer)},d.setRenderContext=function(e){a=e},d.render=function(){i(),a.putImageData(u,d.x,d.y)},d.clear=function(){a.clearRect(l-1,f-1,u.width+1,u.height+1)},d.update=function(){m.call(this)},d.globalToLocal=function(e,t){return{x:e-d.x,y:t-d.y}},d.localToGlobal=function(e,t){return{x:d.x+e,y:d.y+t}},d.hasGlobalPixelAt=function(e,t){var r=!1;if(n(e,t)){var i=e-d.x,a=t-d.y,u=o(i,a);0!==u&&(r=!0)}return r},t(),this}},{"./transform.js":11}],4:[function(e,t,n){function r(e){"use strict";function t(e){n(e),x=!1,p&&u()}function n(e){function t(){if(!(e.images&&e.images instanceof Array))throw new Error("Options object should have 'images' property (type of array) containing paths to the loaded images.");for(var t=0;t<e.images.length;t++){if(!e.images[t])throw new Error("Objects in 'images' cannot be null or undefined");if("string"!=typeof e.images[t]&&!e.images[t].hasOwnProperty("src"))throw new Error("Objects in 'images' property should have src property")}return e.images.slice(0)}function n(){if(e.onComplete&&"function"!=typeof e.onComplete)throw new Error("'onComplete' property should be a function");return f(e.onComplete,void 0)}function r(){if(e.onFileComplete&&"function"!=typeof e.onFileComplete)throw new Error("'onFileComplete' property should be a function");return f(e.onFileComplete,void 0)}function o(){if(e.onFileStart&&"function"!=typeof e.onFileStart)throw new Error("'onFileStart' property should be a function");return f(e.onFileStart,void 0)}function u(){return f(e.autoload,!0)}function s(){var t=f(e.numberOfThreads,1),n=parseInt(t);if(isNaN(n)||1>n)throw new Error("'numberOfThreads' should be integer number grater than 0");return n}function c(){var t=f(e.simulationDelayMin,void 0),n=parseInt(t);if("undefined"!=typeof t&&(isNaN(n)||0>n))throw new Error("'simulationDelayMin' should be a non-negative integer number");return"undefined"==typeof t&&(n=void 0),n}function l(){var t=f(e.simulationDelayMax,void 0),n=parseInt(t);if("undefined"!=typeof t&&(isNaN(n)||0>n))throw new Error("'simulationDelayMax' should be a non-negative integer number");return"undefined"==typeof t&&(n=void 0),n}function f(e,t){return"undefined"==typeof e?t:e}if(!e||"object"!=typeof e)throw new Error("Options should be an Object");v=new i(t()),b=n(),w=r(),C=o(),p=u(),y=s();var d=c(),h=l();a.setSimulationDelays(d,h)}function u(){x===!1&&d()===!1&&(x=!0,s())}function s(){for(var e=0;y>e;e++)new o({onThreadComplete:f,onFileComplete:c,onFileStart:l,queue:v})}function c(e){w&&w(e)}function l(e){C&&C(e)}function f(){d()&&b&&(x=!1,b())}function d(){return v.isComplete()}function h(){return v.getPercentLoaded()}function m(e){return v.getItemAt(e)}function g(){return v.length}if(!(this instanceof r))return new r(e);var p,v,y,b,w,C,x,E=this;return t(e),E.load=u,E.isComplete=d,E.getPercentLoaded=h,E.getItemAt=m,E.length=g,this}var i=e("./queue"),o=e("./thread"),a=e("./imageLoaderItem");t.exports=r},{"./imageLoaderItem":5,"./queue":6,"./thread":7}],5:[function(e,t,n){function r(e){"use strict";function t(){n(),u()}function n(){for(var t in e)p[t]=e[t];p.tag=document.createElement("img")}function i(){p.status=g.FAILED}function o(){p.status=g.COMPLETE}function a(){p.status=g.LOADING}function u(){p.status=g.PENDING}function s(){p.tag.removeEventListener("load",c),p.tag.removeEventListener("error",l)}function c(e){r.simulationDelayMin?setTimeout(function(){f()},h()):f()}function l(e){r.simulationDelayMin?setTimeout(function(){d()},h()):d()}function f(){s(),o(),m(p),m=void 0}function d(){s(),p.tag=void 0,i(),m(p),m=void 0}function h(){var e=r.simulationDelayMax,t=r.simulationDelayMin;return Math.floor(Math.random()*(e-t)+t)}var m,g={PENDING:"pending",LOADING:"loading",COMPLETE:"complete",FAILED:"failed"},p=this;return t(),p.load=function(e){m=e,a(),p.tag.addEventListener("load",c),p.tag.addEventListener("error",l),p.tag.src=p.src},p.isPending=function(){return p.status===g.PENDING},p.isComplete=function(){return p.status===g.COMPLETE},p.isLoading=function(){return p.status===g.LOADING},p.isFailed=function(){return p.status===g.FAILED},this}t.exports=r,r.setSimulationDelays=function(e,t){var n=e,i=t;n&&!i?i=n:i&&!n&&(n=i),r.simulationDelayMin=n,r.simulationDelayMax=i}},{}],6:[function(e,t,n){function r(e){"use strict";function t(){r=n(e),o.length=r.length}function n(e){for(var t=[],n=0;n<e.length;n++)"string"==typeof e[n]?t.push(new i({src:e[n]})):t.push(new i(e[n]));return t}var r,o=this;return o.length=0,t(),o.getItemAt=function(e){return r[e]},o.isComplete=function(){for(var e,t=!0,n=0;n<r.length;n++)if(e=r[n],e.isPending()||e.isLoading()){t=!1;break}return t},o.getNextPendingItem=function(){for(var e,t=0;t<r.length;t++)if(r[t].isPending()){e=r[t];break}return e},o.getPercentLoaded=function(){var e,t=0,n=r.length;for(t;n>t&&(e=r[t],!e.isPending()&&!e.isLoading());t++);return t/n},this}var i=e("./imageLoaderItem");t.exports=r},{"./imageLoaderItem":5}],7:[function(e,t,n){function r(e){"use strict";function t(){i=e.onThreadComplete,o=e.onFileComplete,a=e.onFileStart,u=e.queue,n()}function n(){var e=u.getNextPendingItem();"undefined"==typeof e?i():(e.load(r),a(e))}function r(e){o(e),n()}var i,o,a,u;return t(),this}t.exports=r},{}],8:[function(e,t,n){t.exports=function r(e){"use strict";function t(){c=e&&e.target?document.getElementById(e.target):document.createElement("canvas"),l=c.getContext("2d"),d=[],e&&(e.enableOnRollEvents&&v.enableOnRollEvents(),e.enableOnClickEvents&&v.enableOnClickEvents(),e.width&&(c.width=e.width),e.height&&(c.height=e.height),e.fullScreen&&v.enableFullScreen(),e.clickThrough&&(c.style["pointer-events"]="none"),e.appendToBody&&document.body.appendChild(c))}function n(){g={position:c.style.position,left:c.style.left,top:c.style.top,width:c.width,height:c.height}}function i(){c.style.position="absolute",c.style.left="0",c.style.top="0",o()}function o(){c.width=window.innerWidth,c.height=window.innerHeight,v.render()}function a(){c.style.position=g.position,c.style.left=g.left,c.style.top=g.top,c.width=g.width,c.height=g.height}function u(e){var t=v.getGraphicAtPoint(e.clientX,e.clientY);t!==f&&(f&&f.onRollOut&&f.onRollOut.call(f),t&&t.onRollOver&&t.onRollOver.call(t),f=t)}function s(e){var t=v.getGraphicAtPoint(event.clientX,event.clientY);t&&t.onClick&&t.onClick.call(t)}if(!(this instanceof r))return new r(e);var c,l,f,d,h,m,g,p,v=this;return v.getCanvas=function(){return c},v.enableOnRollEvents=function(){h||(c.addEventListener("mousemove",u),h=!0)},v.disableOnRollEvents=function(){h&&(c.removeEventListener("mousemove",u),h=!1)},v.enableOnClickEvents=function(){m||(c.addEventListener("click",s),m=!0)},v.disableOnClickEvents=function(){m&&(c.removeEventListener("click",s),m=!1)},v.enableFullScreen=function(){p||(n(),i(),window.addEventListener("resize",o),p=!0)},v.disableFullScreen=function(){p&&(window.removeEventListener("resize",o),a(),p=!1)},v.length=function(){return d.length},v.addGraphic=function(e){d.push(e),e.setRenderContext(l)},v.removeGraphic=function(e){e.clear();for(var t=0;t<d.length;t++)if(e===d[t])return void d.splice(t,1)},v.removeAllGraphics=function(){for(var e=0;e<d.length;e++)d[e].clear();d=[]},v.getGraphicAt=function(e){return d[e]},v.getGraphicAtPoint=function(e,t){for(var n=null,r=d.length-1;r>=0;r--)if(d[r].hasGlobalPixelAt(e,t)){n=d[r];break}return n},v.render=function(){for(var e=0;e<d.length;e++)d[e].clear();for(var e=0;e<d.length;e++)d[e].render()},v.update=function(){for(var e=0;e<d.length;e++)d[e].update()},t(),this}},{}],9:[function(e,t,n){"use strict";function r(e){function t(){e&&(f.x=e.x||0,f.y=e.y||0)}function n(e,t){g.push({member:e,type:d,arguments:t})}function i(e,t){g.push({member:e,type:h,value:t})}function o(e){e[0]+=f.x,e[1]+=f.y}function a(e){e>m.padding&&(m.padding=Math.ceil(e))}function u(e){m.hasOwnProperty("left")?c(e[0],e[1]):s(e[0],e[1])}function s(e,t){m.left=e,m.right=e,m.top=t,m.bottom=t,m.padding=0}function c(e,t){e<m.left?m.left=e:e>m.right&&(m.right=e+1),t<m.top?m.top=t:t>m.bottom&&(m.bottom=t)}if(!(this instanceof r))return new r(e);var l,f=this,d=0,h=1;f.x=0,f.y=0;var m={},g=[];return f.render=function(){for(var e,t=0;t<g.length;t++)e=g[t],e.type===d?l[e.member].apply(l,e.arguments):e.type===h&&(l[e.member]=e.value)},f.clear=function(){var e=m.left-m.padding,t=m.top-m.padding,n=m.right+m.padding,r=m.bottom+m.padding,i=n-e,o=r-t;l.clearRect(e,t,i,o)},f.setRenderContext=function(e){l=e},f.beginPath=function(){n("beginPath",arguments)},f.closePath=function(){n("closePath",arguments)},f.moveTo=function(e,t){o(arguments),u(arguments),n("moveTo",arguments)},f.lineTo=function(e,t){o(arguments),u(arguments),n("lineTo",arguments)},f.fill=function(){n("fill",arguments)},f.stroke=function(){n("stroke",arguments)},Object.defineProperty(this,"fillStyle",{set:function(e){i("fillStyle",e)}}),Object.defineProperty(this,"strokeStyle",{set:function(e){i("strokeStyle",e)}}),Object.defineProperty(this,"lineCap",{set:function(e){i("lineCap",e)}}),Object.defineProperty(this,"lineWidth",{set:function(e){i("lineWidth",e),a(e/2)}}),f.box=function(e,t,n,r){f.beginPath(),f.moveTo(e,t),f.lineTo(n+e,t),f.lineTo(n+e,r+t),f.lineTo(e,r+t),f.closePath()},t(),this}t.exports=r},{}],10:[function(e,t,n){t.exports=function r(e){"use strict";function t(){e?(i.renderCallback=e.renderCallback||m,i.updateCallback=e.updateCallback||m,i.measureCallback=e.measureCallback||m,i.setFramerate(e.frameRate||30)):(i.renderCallback=m,i.updateCallback=m,i.measureCallback=m,i.setFramerate(30)),u=0,s=0,c=0,l=0,f=0,d=0}function n(e){for(u=(new Date).getTime(),f=u-s-l,i.updateCallback(),i.renderCallback(),s=(new Date).getTime(),c=s-u,l=a-c-f,0>=l&&(d-=l,l=2),h=setTimeout(n,l);d>a;)i.updateCallback(),d-=a;i.measureCallback()}if(r.prototype.singletonInstance)return r.prototype.singletonInstance;if(!(this instanceof r))return new r(e);r.prototype.singletonInstance=this;var i=this;i.renderCallback,i.updateCallback,i.measureCallback;var o=30;i.getFramerate=function(){return o},i.setFramerate=function(e){o=e,a=Math.round(1e3/o)};var a;i.getPeriod=function(){return a};var u;i.getBeforeTime=function(){return u};var s;i.getAfterTime=function(){return s};var c;i.getTimeDiff=function(){return c};var l;i.getSleepTime=function(){return l};var f;i.getOverSleepTime=function(){return f};var d;i.getExcess=function(){return d};var h,m=function(){};return i.start=function(){u=(new Date).getTime(),s=(new Date).getTime(),h=setTimeout(n,a)},i.stop=function(){clearTimeout(h)},t(),this}},{}],11:[function(e,t,n){function r(e,t){"use strict";function n(e,n){var r=a,i=r.data,o=t.createImageData(r),u=o.data,s=[],c=u.length,l={imageData:r};n=n||{};for(var f in n)l[f]=n[f];for(var d=0;c>d;d+=4)l.r=i[d],l.g=i[d+1],l.b=i[d+2],l.a=i[d+3],l.x=d%(r.width<<2)>>2,l.y=Math.floor(d/(r.width<<2)),s=e(l),u[d]=s[0],u[d+1]=s[1],u[d+2]=s[2],u[d+3]=s[3];return o}if(!(this instanceof r))return new r(e);var i=this,o=e,a=o;i.getImageData=function(){return a},i["do"]=function(e,t){return a=n(e,t),i},i.reset=function(){return a=o,i}}function i(e,t,n){return e-n*(e-t)}t.exports=r,r.sampleLinear=function(e,t,n){var r=e.data,i=n*(e.width<<2)+(t<<2);return[r[i],r[i+1],r[i+2],r[i+3]]},r.distance=function(e,t,n,r){var i=e-n,o=t-r;return Math.sqrt(i*i+o*o)},r.degreesToRadians=function(e){return e/180*3.14159265},r.Invert=function(e){return[255-e.r,255-e.g,255-e.b,e.a]},r.GrayScale=function(e){var t=(e.r+e.g+e.b)/3;return[t,t,t,e.a]},r.Alpha=function(e){return[e.r,e.g,e.b,e.value]},r.WeightedAlphaBlend=function(e){var t=r.sampleLinear(e.imageData2,e.x,e.y),n=t[3],o=n/255;return 255===n?[t[0],t[1],t[2],t[3]]:0===n?[e.r,e.g,e.b,e.a]:[i(e.r,t[0],o),i(e.g,t[1],o),i(e.b,t[2],o),e.a>n?e.a:n]},r.Rotate=function(e){var t=e.degree,n=r.degreesToRadians(t),i=Math.round(e.x*Math.cos(n)-e.y*Math.sin(n)),o=Math.round(e.x*Math.sin(n)+e.y*Math.cos(n));return r.sampleLinear(e.imageData,i,o)},r.Swirl=function(e){var t=e.originX,n=e.originY,i=e.degree,o=e.radius,a=r.distance(e.x,e.y,t,n),u=r.degreesToRadians(i*a),s=t+Math.cos(u)*o,c=n-Math.sin(u)*o;return s-=t,c-=n,s=Math.round(e.x-s),c=Math.round(e.y-c),r.sampleLinear(e.imageData,s,c)},r.descriptions={Invert:{arguments:[]},GrayScale:{arguments:[]},Alpha:{arguments:[{name:"value",min:0,max:255,"default":255,type:"number",description:"Control the alpha channel of pixels."}]},Rotate:{arguments:[]},Swirl:{arguments:[{name:"originX",min:Number.MIN_VALUE,max:Number.MAX_VALUE,"default":0,type:"number",description:"Center position of the transform on X axis."},{name:"originY",min:Number.MIN_VALUE,max:Number.MAX_VALUE,"default":0,type:"number",description:"Center position of the transform on Y axis."},{name:"degree",min:Number.MIN_VALUE,max:Number.MAX_VALUE,"default":2,type:"number",description:"Degree of the twist."},{name:"radius",min:Number.MIN_VALUE,max:Number.MAX_VALUE,"default":20,type:"number",description:""}]}}},{}]},{},[1]);