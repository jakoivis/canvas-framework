!function t(e,n,i){function r(a,u){if(!n[a]){if(!e[a]){var s="function"==typeof require&&require;if(!u&&s)return s(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};e[a][0].call(l.exports,function(t){var n=e[a][1][t];return r(n?n:t)},l,l.exports,t,e,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(t){window.ImageLoader=t("./imageLoader/imageLoader.js"),window.Layer=t("./layer.js"),window.Transform=t("./transform.js"),window.Graphic=t("./graphic.js"),window.Timer=t("./timer.js"),window.CanvasUtil=t("./canvasutil.js")},{"./canvasutil.js":2,"./graphic.js":3,"./imageLoader/imageLoader.js":4,"./layer.js":8,"./timer.js":9,"./transform.js":10}],2:[function(t,e){"use strict";function n(){function t(){s.resetTempCanvas()}function e(t){a.width<t.width&&(a.width=t.width),a.height<t.height&&(a.height=t.height)}function i(t){u.clearRect(0,0,t.width,t.height)}function r(t){u.drawImage(t,0,0)}function o(t){return u.getImageData(0,0,t.width,t.height)}if(n.prototype.singletonInstance)return n.prototype.singletonInstance;if(!(this instanceof n))return new n;n.prototype.singletonInstance=this;var a,u,s=this;return s.resetTempCanvas=function(){a=document.createElement("canvas"),u=a.getContext("2d")},s.getImageDataFromTag=function(t){return e(t),i(t),r(t),o(t)},t(),this}e.exports=new n},{}],3:[function(t,e){"use strict";e.exports=function(t){function e(){t&&(t.imageData&&c.setImageData(t.imageData),c.x=t.x||0,c.y=t.y||0,c.onRollOver=t.onRollOver,c.onRollOut=t.onRollOut,c.onClick=t.onClick,d=t.update||h)}function n(t,e){return t-p>=0&&e-v>=0&&t-(p+a.width)<=0&&e-(v+a.height)<=0}function i(t,e,n,i){l.left=t,l.top=e,l.right=t+n,l.bottom=e+i,l.width=n,l.height=i}function r(t,e){return s[e*a.width+t]}if(!(this instanceof Graphic))return new Graphic(t);var o,a,u,s,c=this,l={left:0,top:0,right:0,bottom:0,width:0,height:0},f={left:0,top:0,right:0,bottom:0,width:0,height:0},h=function(){};c.onRollOver,c.onRollOut,c.onClick;var d=h,g=!0,m=[],p=0,v=0;return Object.defineProperty(this,"x",{get:function(){return p},set:function(t){t!==p&&(p=t,f.left=p,f.right=f.left+f.width,c.invalidate())}}),Object.defineProperty(this,"y",{get:function(){return v},set:function(t){t!==v&&(v=t,f.top=v,f.bottom=f.top+f.height,c.invalidate())}}),Object.defineProperty(this,"isInvalid",{get:function(){return g}}),Object.defineProperty(this,"invalidationRects",{get:function(){return m}}),c.getImageData=function(){return a},c.setImageData=function(t){a=t,f.width=a.width,f.height=a.height,f.right=f.left+f.width,f.bottom=f.top+f.height,u=a.data,s=new Uint32Array(u.buffer),c.invalidate()},c.setRenderContext=function(t){o=t},c.validateNow=function(){g&&(c.clear(),c.render(),g=!1)},c.invalidate=function(t){g=!0,t&&m.push(t)},c.render=function(){for(i(p,v,a.width,a.height);m.length;){var t=c.getDirtyRect(m.shift());o.putImageData(a,p,v,t.left,t.top,t.width,t.height)}},c.clear=function(){o.clearRect(l.left-1,l.top-1,l.width+2,l.height+2)},c.update=function(){d.call(this)},c.globalToLocal=function(t,e){return{x:t-p,y:e-v}},c.localToGlobal=function(t,e){return{x:p+t,y:v+e}},c.hasGlobalPixelAt=function(t,e){var i=!1;if(n(t,e)){var o=t-p,a=e-v,u=r(o,a);0!==u&&(i=!0)}return i},c.isIntersecting=function(t){return t.left<=f.right&&f.left<=t.right&&t.top<=f.bottom&&f.top<=t.bottom},c.isIntersectingOldPosition=function(t){return t.left<=l.right&&l.left<=t.right&&t.top<=l.bottom&&l.top<=t.bottom},c.getRect=function(){return{left:f.left,right:f.right,top:f.top,bottom:f.bottom,width:f.width,height:f.height}},c.getDirtyRect=function(t){var e=t.left-p,n=t.top-v,i=t.width-Math.abs(e),r=t.height-Math.abs(n),o={left:0>e?0:e,top:0>n?0:n,width:i>f.width?f.width:i,height:r>f.height?f.height:r};return o},e(),this}},{}],4:[function(t,e){function n(t){"use strict";function e(t){a(t),E=!1,p&&u()}function a(t){function e(){if(!(t.images&&t.images instanceof Array))throw new Error("Options object should have 'images' property (type of array) containing paths to the loaded images.");for(var e=0;e<t.images.length;e++){if(!t.images[e])throw new Error("Objects in 'images' cannot be null or undefined");if("string"!=typeof t.images[e]&&!t.images[e].hasOwnProperty("src"))throw new Error("Objects in 'images' property should have src property")}return t.images.slice(0)}function n(){if(t.onComplete&&"function"!=typeof t.onComplete)throw new Error("'onComplete' property should be a function");return f(t.onComplete,void 0)}function r(){if(t.onFileComplete&&"function"!=typeof t.onFileComplete)throw new Error("'onFileComplete' property should be a function");return f(t.onFileComplete,void 0)}function a(){if(t.onFileStart&&"function"!=typeof t.onFileStart)throw new Error("'onFileStart' property should be a function");return f(t.onFileStart,void 0)}function u(){return f(t.autoload,!0)}function s(){var e=f(t.numberOfThreads,1),n=parseInt(e);if(isNaN(n)||1>n)throw new Error("'numberOfThreads' should be integer number grater than 0");return n}function c(){var e=f(t.simulationDelayMin,void 0),n=parseInt(e);if("undefined"!=typeof e&&(isNaN(n)||0>n))throw new Error("'simulationDelayMin' should be a non-negative integer number");return"undefined"==typeof e&&(n=void 0),n}function l(){var e=f(t.simulationDelayMax,void 0),n=parseInt(e);if("undefined"!=typeof e&&(isNaN(n)||0>n))throw new Error("'simulationDelayMax' should be a non-negative integer number");return"undefined"==typeof e&&(n=void 0),n}function f(t,e){return"undefined"==typeof t?e:t}if(!t||"object"!=typeof t)throw new Error("Options should be an Object");v=new i(e()),b=n(),y=r(),C=a(),p=u(),w=s();var h=c(),d=l();o.setSimulationDelays(h,d)}function u(){E===!1&&h()===!1&&(E=!0,s())}function s(){for(var t=0;w>t;t++)new r({onThreadComplete:f,onFileComplete:c,onFileStart:l,queue:v})}function c(t){y&&y(t)}function l(t){C&&C(t)}function f(){h()&&b&&(E=!1,b())}function h(){return v.isComplete()}function d(){return v.getPercentLoaded()}function g(t){return v.getItemAt(t)}function m(){return v.length}if(!(this instanceof n))return new n(t);var p,v,w,b,y,C,E,L=this;return e(t),L.load=u,L.isComplete=h,L.getPercentLoaded=d,L.getItemAt=g,L.length=m,this}var i=t("./queue"),r=t("./thread"),o=t("./imageLoaderItem");e.exports=n},{"./imageLoaderItem":5,"./queue":6,"./thread":7}],5:[function(t,e){function n(t){"use strict";function e(){i(),u()}function i(){for(var e in t)p[e]=t[e];p.tag=document.createElement("img")}function r(){p.status=m.FAILED}function o(){p.status=m.COMPLETE}function a(){p.status=m.LOADING}function u(){p.status=m.PENDING}function s(){p.tag.removeEventListener("load",c),p.tag.removeEventListener("error",l)}function c(){n.simulationDelayMin?setTimeout(function(){f()},d()):f()}function l(){n.simulationDelayMin?setTimeout(function(){h()},d()):h()}function f(){s(),o(),g(p),g=void 0}function h(){s(),p.tag=void 0,r(),g(p),g=void 0}function d(){var t=n.simulationDelayMax,e=n.simulationDelayMin;return Math.floor(Math.random()*(t-e)+e)}var g,m={PENDING:"pending",LOADING:"loading",COMPLETE:"complete",FAILED:"failed"},p=this;return e(),p.load=function(t){g=t,a(),p.tag.addEventListener("load",c),p.tag.addEventListener("error",l),p.tag.src=p.src},p.isPending=function(){return p.status===m.PENDING},p.isComplete=function(){return p.status===m.COMPLETE},p.isLoading=function(){return p.status===m.LOADING},p.isFailed=function(){return p.status===m.FAILED},this}e.exports=n,n.setSimulationDelays=function(t,e){var i=t,r=e;i&&!r?r=i:r&&!i&&(i=r),n.simulationDelayMin=i,n.simulationDelayMax=r}},{}],6:[function(t,e){function n(t){"use strict";function e(){r=n(t),o.length=r.length}function n(t){for(var e=[],n=0;n<t.length;n++)e.push("string"==typeof t[n]?new i({src:t[n]}):new i(t[n]));return e}var r,o=this;return o.length=0,e(),o.getItemAt=function(t){return r[t]},o.isComplete=function(){for(var t,e=!0,n=0;n<r.length;n++)if(t=r[n],t.isPending()||t.isLoading()){e=!1;break}return e},o.getNextPendingItem=function(){for(var t,e=0;e<r.length;e++)if(r[e].isPending()){t=r[e];break}return t},o.getPercentLoaded=function(){var t,e=0,n=r.length;for(e;n>e&&(t=r[e],!t.isPending()&&!t.isLoading());e++);return e/n},this}var i=t("./imageLoaderItem");e.exports=n},{"./imageLoaderItem":5}],7:[function(t,e){function n(t){"use strict";function e(){r=t.onThreadComplete,o=t.onFileComplete,a=t.onFileStart,u=t.queue,n()}function n(){var t=u.getNextPendingItem();"undefined"==typeof t?r():(t.load(i),a(t))}function i(t){o(t),n()}var r,o,a,u;return e(),this}e.exports=n},{}],8:[function(t,e){"use strict";e.exports=function(t){function e(){l=document.createElement("canvas"),f=l.getContext("2d"),d=[],t&&(t.enableOnRollEvents&&w.enableOnRollEvents(),t.enableOnClickEvents&&w.enableOnClickEvents(),t.fullScreen&&w.enableFullScreen(),t.appendToBody&&document.body.appendChild(l))}function n(){p={position:l.style.position,left:l.style.left,top:l.style.top,width:l.width,height:l.height}}function i(){l.style.position="absolute",l.style.left="0",l.style.top="0",r()}function r(){l.width=window.innerWidth,l.height=window.innerHeight,w.render()}function o(){l.style.position=p.position,l.style.left=p.left,l.style.top=p.top,l.width=p.width,l.height=p.height}function a(t){var e=w.getGraphicAtPoint(t.clientX,t.clientY);e!==h&&(h&&h.onRollOut&&h.onRollOut.call(h),e&&e.onRollOver&&e.onRollOver.call(e),h=e)}function u(){var t=w.getGraphicAtPoint(event.clientX,event.clientY);t&&t.onClick&&t.onClick.call(t)}function s(){for(var t=0;t<d.length;t++)d[t].isInvalid&&c(d[t].getRect())}function c(t){for(var e=0;e<d.length;e++)d[e].isIntersecting(t)&&d[e].invalidate(t)}if(!(this instanceof Layer))return new Layer(t);var l,f,h,d,g,m,p,v,w=this;return w.getCanvas=function(){return l},w.enableOnRollEvents=function(){g||(l.addEventListener("mousemove",a),g=!0)},w.disableOnRollEvents=function(){g&&(l.removeEventListener("mousemove",a),g=!1)},w.enableOnClickEvents=function(){m||(l.addEventListener("click",u),m=!0)},w.disableOnClickEvents=function(){m&&(l.removeEventListener("click",u),m=!1)},w.enableFullScreen=function(){v||(n(),i(),window.addEventListener("resize",r),v=!0)},w.disableFullScreen=function(){v&&(window.removeEventListener("resize",r),o(),v=!1)},w.length=function(){return d.length},w.addGraphic=function(t){d.push(t),t.setRenderContext(f)},w.removeGraphic=function(t){t.clear();for(var e=0;e<d.length;e++)if(t===d[e])return void d.splice(e,1)},w.getGraphicAt=function(t){return d[t]},w.getGraphicAtPoint=function(t,e){for(var n=null,i=d.length-1;i>=0;i--)if(d[i].hasGlobalPixelAt(t,e)){n=d[i];break}return n},w.render=function(){s();for(var t=0;t<d.length;t++)d[t].validateNow()},w.update=function(){for(var t=0;t<d.length;t++)d[t].update()},e(),this}},{}],9:[function(t,e){"use strict";e.exports=function(t){function e(){t?(i.renderCallback=t.renderCallback||d,i.updateCallback=t.updateCallback||d,i.measureCallback=t.measureCallback||d,i.setFramerate(t.frameRate||30)):(i.renderCallback=d,i.updateCallback=d,i.measureCallback=d,i.setFramerate(30)),a=0,u=0,s=0,c=0,l=0,f=0}function n(){for(a=(new Date).getTime(),l=a-u-c,i.updateCallback(),i.renderCallback(),u=(new Date).getTime(),s=u-a,c=o-s-l,0>=c&&(f-=c,c=2),h=setTimeout(n,c);f>o;)i.updateCallback(),f-=o;i.measureCallback()}if(Timer.prototype.singletonInstance)return Timer.prototype.singletonInstance;if(!(this instanceof Timer))return new Timer(t);Timer.prototype.singletonInstance=this;var i=this;i.renderCallback,i.updateCallback,i.measureCallback;var r=30;i.getFramerate=function(){return r},i.setFramerate=function(t){r=t,o=Math.round(1e3/r)};var o;i.getPeriod=function(){return o};var a;i.getBeforeTime=function(){return a};var u;i.getAfterTime=function(){return u};var s;i.getTimeDiff=function(){return s};var c;i.getSleepTime=function(){return c};var l;i.getOverSleepTime=function(){return l};var f;i.getExcess=function(){return f};var h,d=function(){};return i.start=function(){a=(new Date).getTime(),u=(new Date).getTime(),h=setTimeout(n,o)},i.stop=function(){clearTimeout(h)},e(),this}},{}],10:[function(t,e){"use strict";function n(t,e){function i(t,n){var i=a,r=i.data,o=e.createImageData(i),u=o.data,s=[],c=u.length,l={imageData:i};n=n||{};for(var f in n)l[f]=n[f];for(var h=0;c>h;h+=4)l.r=r[h],l.g=r[h+1],l.b=r[h+2],l.a=r[h+3],l.x=h%(i.width<<2)>>2,l.y=Math.floor(h/(i.width<<2)),s=t(l),u[h]=s[0],u[h+1]=s[1],u[h+2]=s[2],u[h+3]=s[3];return o}if(!(this instanceof n))return new n(t);var r=this,o=t,a=o;r.getImageData=function(){return a},r["do"]=function(t,e){return a=i(t,e),r},r.reset=function(){return a=o,r}}e.exports=n,n.sampleLinear=function(t,e,n){var i=t.data,r=n*(t.width<<2)+(e<<2);return[i[r],i[r+1],i[r+2],i[r+3]]},n.distance=function(t,e,n,i){var r=t-n,o=e-i;return Math.sqrt(r*r+o*o)},n.degreesToRadians=function(t){return t/180*3.14159265},n.Invert=function(t){return[255-t.r,255-t.g,255-t.b,t.a]},n.GrayScale=function(t){var e=(t.r+t.g+t.b)/3;return[e,e,e,t.a]},n.Alpha=function(t){return[t.r,t.g,t.b,t.value]},n.Rotate=function(t){var e=t.degree,i=n.degreesToRadians(e),r=Math.round(t.x*Math.cos(i)-t.y*Math.sin(i)),o=Math.round(t.x*Math.sin(i)+t.y*Math.cos(i));return n.sampleLinear(t.imageData,r,o)},n.Swirl=function(t){var e=t.originX,i=t.originY,r=t.degree,o=t.radius,a=n.distance(t.x,t.y,e,i),u=n.degreesToRadians(r*a),s=e+Math.cos(u)*o,c=i-Math.sin(u)*o;return s-=e,c-=i,s=Math.round(t.x-s),c=Math.round(t.y-c),n.sampleLinear(t.imageData,s,c)},n.descriptions={Invert:{arguments:[]},GrayScale:{arguments:[]},Alpha:{arguments:[{name:"value",min:0,max:255,"default":255,type:"number",description:"Control the alpha channel of pixels."}]},Rotate:{arguments:[]},Swirl:{arguments:[{name:"originX",min:Number.MIN_VALUE,max:Number.MAX_VALUE,"default":0,type:"number",description:"Center position of the transform on X axis."},{name:"originY",min:Number.MIN_VALUE,max:Number.MAX_VALUE,"default":0,type:"number",description:"Center position of the transform on Y axis."},{name:"degree",min:Number.MIN_VALUE,max:Number.MAX_VALUE,"default":2,type:"number",description:"Degree of the twist."},{name:"radius",min:Number.MIN_VALUE,max:Number.MAX_VALUE,"default":20,type:"number",description:""}]}}},{}]},{},[1]);