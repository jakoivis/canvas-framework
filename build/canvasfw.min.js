!function e(t,n,i){function r(o,l){if(!n[o]){if(!t[o]){var c="function"==typeof require&&require;if(!l&&c)return c(o,!0);if(a)return a(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var s=n[o]={exports:{}};t[o][0].call(s.exports,function(e){var n=t[o][1][e];return r(n?n:e)},s,s.exports,e,t,n,i)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<i.length;o++)r(i[o]);return r}({1:[function(e){window.Layer=e("./layer.js"),window.Graphic=e("./graphic.js"),window.Timer=e("./timer.js"),window.CanvasUtil=e("./canvasutil.js")},{"./canvasutil.js":2,"./graphic.js":3,"./layer.js":4,"./timer.js":5}],2:[function(e,t){"use strict";t.exports=function(){function e(){l.resetTempCanvas()}function t(e){(a.width<e.width||a.height<e.height)&&(a.width=e.width,a.height=e.height)}function n(e){o.clearRect(0,0,e.width,e.height)}function i(e){o.drawImage(e,0,0)}function r(e){return o.getImageData(0,0,e.width,e.height)}if(CanvasUtil.prototype.singletonInstance)return CanvasUtil.prototype.singletonInstance;if(!(this instanceof CanvasUtil))return new CanvasUtil;CanvasUtil.prototype.singletonInstance=this;var a,o,l=this;return l.resetTempCanvas=function(){a=document.createElement("canvas"),o=a.getContext("2d")},l.getImageDataFromTag=function(e){return t(e),n(e),i(e),r(e)},e(),this}},{}],3:[function(e,t){"use strict";t.exports=function(e){function t(){e&&(e.imageData&&f.setImageData(e.imageData),f.x=e.x||0,f.y=e.y||0,f.onRollOver=e.onRollOver,f.onRollOut=e.onRollOut,f.onClick=e.onClick,d=e.update||h)}function n(e,t){return e-f.x>=0&&t-f.y>=0&&e-(f.x+o.width)<=0&&t-(f.y+o.height)<=0}function i(){u=f.x,s=f.y}function r(e,t){return c[t*o.width+e]}if(!(this instanceof Graphic))return new Graphic(e);var a,o,l,c,u,s,f=this,h=function(){};f.x=0,f.y=0,f.onRollOver,f.onRollOut,f.onClick;var d=h;return f.getImageData=function(){return o},f.setImageData=function(e){o=e,l=o.data,c=new Uint32Array(l.buffer)},f.setRenderContext=function(e){a=e},f.render=function(){i(),a.putImageData(o,f.x,f.y)},f.clear=function(){a.clearRect(u-1,s-1,o.width+1,o.height+1)},f.update=function(){d.call(this)},f.globalToLocal=function(e,t){return{x:e-f.x,y:t-f.y}},f.localToGlobal=function(e,t){return{x:f.x+e,y:f.y+t}},f.hasGlobalPixelAt=function(e,t){var i=!1;if(n(e,t)){var a=e-f.x,o=t-f.y,l=r(a,o);0!==l&&(i=!0)}return i},t(),this}},{}],4:[function(e,t){"use strict";t.exports=function(e){function t(){c=document.createElement("canvas"),u=c.getContext("2d"),f=[],e&&(e.enableOnRollEvents&&g.enableOnRollEvents(),e.enableOnClickEvents&&g.enableOnClickEvents(),e.fullScreen&&g.enableFullScreen(),e.appendToBody&&document.body.appendChild(c))}function n(){v={position:c.style.position,left:c.style.left,top:c.style.top,width:c.width,height:c.height}}function i(){c.style.position="absolute",c.style.left="0",c.style.top="0",r()}function r(){c.width=window.innerWidth,c.height=window.innerHeight,g.render()}function a(){c.style.position=v.position,c.style.left=v.left,c.style.top=v.top,c.width=v.width,c.height=v.height}function o(e){var t=g.getGraphicAtPoint(e.clientX,e.clientY);t!==s&&(s&&s.onRollOut&&s.onRollOut.call(s),t&&t.onRollOver&&t.onRollOver.call(t),s=t)}function l(){var e=g.getGraphicAtPoint(event.clientX,event.clientY);e&&e.onClick&&e.onClick.call(e)}if(!(this instanceof Layer))return new Layer(e);var c,u,s,f,h,d,v,p,g=this;return g.getCanvas=function(){return c},g.enableOnRollEvents=function(){h||(c.addEventListener("mousemove",o),h=!0)},g.disableOnRollEvents=function(){h&&(c.removeEventListener("mousemove",o),h=!1)},g.enableOnClickEvents=function(){d||(c.addEventListener("click",l),d=!0)},g.disableOnClickEvents=function(){d&&(c.removeEventListener("click",l),d=!1)},g.enableFullScreen=function(){p||(n(),i(),window.addEventListener("resize",r),p=!0)},g.disableFullScreen=function(){p&&(window.removeEventListener("resize",r),a(),p=!1)},g.length=function(){return f.length},g.addGraphic=function(e){f.push(e),e.setRenderContext(u)},g.removeGraphic=function(e){e.clear();for(var t=0;t<f.length;t++)if(e===f[t])return void(f=f.slice(0,t).concat(f.slice(t+1)))},g.getGraphicAtPoint=function(e,t){for(var n=null,i=0;i<f.length;i++)f[i].hasGlobalPixelAt(e,t)&&(n=f[i]);return n},g.render=function(){for(var e=0;e<f.length;e++)f[e].clear(),f[e].render()},g.update=function(){for(var e=0;e<f.length;e++)f[e].update()},t(),this}},{}],5:[function(e,t){"use strict";t.exports=function(e){function t(){e?(i.renderCallback=e.renderCallback||d,i.updateCallback=e.updateCallback||d,i.measureCallback=e.measureCallback||d,i.setFramerate(e.frameRate||30)):(i.renderCallback=d,i.updateCallback=d,i.measureCallback=d,i.setFramerate(30)),o=0,l=0,c=0,u=0,s=0,f=0}function n(){for(o=(new Date).getTime(),s=o-l-u,i.updateCallback(),i.renderCallback(),l=(new Date).getTime(),c=l-o,u=a-c-s,0>=u&&(f-=u,u=2),h=setTimeout(n,u);f>a;)i.updateCallback(),f-=a;i.measureCallback()}if(Timer.prototype.singletonInstance)return Timer.prototype.singletonInstance;if(!(this instanceof Timer))return new Timer(e);Timer.prototype.singletonInstance=this;var i=this;i.renderCallback,i.updateCallback,i.measureCallback;var r=30;i.getFramerate=function(){return r},i.setFramerate=function(e){r=e,a=Math.round(1e3/r)};var a;i.getPeriod=function(){return a};var o;i.getBeforeTime=function(){return o};var l;i.getAfterTime=function(){return l};var c;i.getTimeDiff=function(){return c};var u;i.getSleepTime=function(){return u};var s;i.getOverSleepTime=function(){return s};var f;i.getExcess=function(){return f};var h,d=function(){};return i.start=function(){o=(new Date).getTime(),l=(new Date).getTime(),h=setTimeout(n,a)},i.stop=function(){clearTimeout(h)},t(),this}},{}]},{},[1]);